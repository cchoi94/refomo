{"version":3,"file":"static/webpack/static/development/pages/index.js.7e248d623e6ad449612e.hot-update.js","sources":["webpack:///./components/AddReferralForm.js","webpack:///./pages/index.js"],"sourcesContent":["import Layout from './Layout'\nimport { createSelector } from 'reselect'\nimport { connect } from 'react-redux'\n\nimport { postNewRefPost } from '../redux/actions/refPost-actions'\n\nclass AddReferralForm extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      refCode: null,\n      refType: null,\n    }\n  }\n\n  onHandleFormInput = () => {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  onHandlePostSubmit = (event) => {\n    event.preventDefault()\n    let postData = {\n      refCode: this.state.refCode,\n      refType: this.state.refType,\n      user: this.props.user.email\n    }\n    this.props.onPostNewRefPost(postData, this.props.user.token)\n  }\n\n  render() {\n    return(\n      <div>\n        {this.props.user ? \n          <form>\n            <h1>Add your referral code</h1>\n            <input name=\"refCode\" type=\"text\"/>\n            <input name=\"refType\" type=\"text\" />\n            <button type=\"submit\">Post refferal code</button>\n          </form>\n        :\n          <h2>Please login to add refferal codes</h2>\n        }\n      </div>\n    )}\n}\n\nconst mapStateToProps = createSelector(\n  userSelector,\n  (user) => ({\n    user\n  })\n);\n\nconst mapActionsToProps = {\n  onPostNewRefPost: postNewRefPost\n}\n\nexport default Layout(connect(mapStateToProps, mapActionsToProps)(AddReferralForm))","import Layout from '../components/Layout'\nimport { createSelector } from 'reselect'\nimport { connect } from 'react-redux'\n\nimport { getRefPosts, updateSelectedRefPost } from '../redux/actions/refPost-actions'\nimport Login from '../components/Login'\nimport AddReferralForm from '../components/AddReferralForm'\nimport '../styles/style.scss'\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  componentDidMount() {\n    this.props.onGetRefPosts()\n  }\n\n  render() {\n    return(\n      <div>\n        <h1>Refferal codes page</h1>\n        {this.props.refPosts &&\n          this.props.refPosts.map(post => {\n            return (\n              <div>\n                {post.refCode}\n                <span> By </span>\n                {post.user}\n              </div>\n            )\n          })}\n          <Login />\n          <AddReferralForm />\n      </div>\n    )\n  }\n}\n\nconst refPostsSelector = createSelector(\n  state => state.refPosts,\n  refPosts => refPosts\n)\n\nconst mapStateToProps = createSelector(\n  refPostsSelector,\n  (refPosts) => ({\n    refPosts\n  })\n);\n\nconst mapActionsToProps = {\n  onGetRefPosts: getRefPosts,\n  onUpdateSelectedRefPost: updateSelectedRefPost,\n}\n\nexport default Layout(connect(mapStateToProps, mapActionsToProps)(Index))"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AASA;AAGA;AACA;AAbA;AAeA;AACA;AACA;AACA;AACA;AAHA;AACA;AAIA;AACA;AACA;AArBA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AAiBA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAvCA;AACA;AAyCA;AAEA;AACA;AADA;AAAA;AAKA;AACA;AADA;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3DA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA3BA;AACA;AA6BA;AACA;AAAA;AACA;AAAA;AAGA;AAEA;AACA;AADA;AAAA;AAKA;AACA;AACA;AAFA;AAKA;;;;A","sourceRoot":""}